<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog</title>
    <link rel="stylesheet" href="/css/main.css">
</head>

<body> 
    <header class="top-bar">

        <nav class="nav-center" aria-label="User navigation">
            <ul class="nav-items">
                <li><a href="index.html">Overview</a></li>
                <li onclick="openPopup()" style="cursor: pointer">Post</a></li>
                <li><a href="blogsite.html"> Road map</a></li>
            </ul>
        </nav>

        <div class="nav-right">
            <form class="login" autocomplete="on">
                <input class="js_username" type="text" name="username" placeholder="username" required>
                <input class="js_password" type="password" name="password" placeholder="password" required>
                <a href="loginPage.html" class="create-account"> Create account </a>
                <button type="submit">login</button>
            </form>

            <div class="user-panel">
                <button class="logout" type="button"><i class="fa-solid fa-right-from-bracket"></i></button>
                <a class="avatar-link" href="#" target="_blank" rel="noopener" aria-label="Profile">
                    <img class="avatar" src="/images/default.jpeg" alt="profile">
                </a>
            </div>
        </div>

    </header>

    <p id="ip-address"></p>
<div class ="single-blog-post-container">  

    <div class="single-blog-post-image">
        <img src="images/roadmap2.png" width="1000px">
    </div>

    <div class="single-blog-post-subject">
        <h3>  </h3> 
    </div>
           <div class="single-blog-post-date">
            <time class="singe-blog-date"></time>
        </div>

    <div class="single-blog-post-author">
    <p> Creator: zahaawii </p>
    </div>

    <pre class="single-blog-post-body">
Unable to find blog post. Maybe you went to visit the wrong blog post?
</pre>

</div> 


    <script>

        const urlParameter = new URLSearchParams(location.search);
        const blogId = urlParameter.get("id");
        console.log(blogId);

        const subject = document.querySelector('.single-blog-post-subject');
        const author = document.querySelector('single-blog-post-author');
        const blogPostBody = document.querySelector('.single-blog-post-body');
        const date = document.querySelector('.singe-blog-date');

            fetch('http://localhost:8080/api/v1/blog/getbyid/' + blogId)
            .then(res => {
                return res.json();
            })
            .then(data => {
                console.log(data);
                subject.textContent = data.subject;
                blogPostBody.textContent = data.body;
                date.textContent = data.publishDate;
            })
            .catch(err => {
                console.log(err);
            });



    </script>
</body>

</html>